(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/Eni-min.95eae398.svg"},function(e,t,n){e.exports=n(32)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),s=n.n(c),o=(n(16),n(1)),i=n(2),l=n(4),u=n(3),d=n(5),m=(n(17),n(18),n(7));n(19);function p(e){var t=r.a.createRef(),n=[];return r.a.createElement("div",{className:"create-round-wrapper"},r.a.createElement("input",{className:"create-round__input",type:"text",placeholder:"\u0412\u043e\u043f\u0440\u043e\u0441",value:e.question,onChange:function(){e.changeQuestion(e.roundId,t.current.value)},ref:t}),e.answer.map(function(t,a){return n.push(r.a.createRef()),r.a.createElement("input",{className:"create-round__input",key:"".concat(e.roundId,"-").concat(a),type:"text",placeholder:"\u041e\u0442\u0432\u0435\u0442 \u2116".concat(a+1),value:t,onChange:function(){return function(t){var a=n[t].current.value.toLowerCase();e.changeAnswer(e.roundId,t,a)}(a)},ref:n[a]})}),r.a.createElement("button",{className:"create-round__add-btn",onClick:function(t){t.preventDefault(),e.addAnswer(e.roundId)}},r.a.createElement("i",{className:"far fa-plus-square"})))}n(20);var f=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).addRound=function(e){e.preventDefault(),n.setState(function(e){return{rounds:e.rounds.concat([{id:e.rounds.length+1,text:"",answer:[""]}])}})},n.addAnswer=function(e){n.setState(function(t){return{rounds:t.rounds.map(function(t,n){return n===e&&t.answer.push(""),t})}})},n.changeTitle=function(){n.setState({title:n.titleRef.current.value})},n.changeDescription=function(){n.setState({description:n.descriptionRef.current.value})},n.changeQuestion=function(e,t){n.setState(function(n){return{rounds:n.rounds.map(function(n,a){return a===e&&(n.text=t),n})}})},n.changeAnswer=function(e,t,a){n.setState(function(n){var r=n.rounds.slice();return{rounds:(r=r.map(function(n,r){return r===e&&(n.answer=n.answer.map(function(e,n){return n===t?a:e})),n})).slice()}})},n.create=function(e){if(e.preventDefault(),n.state.rounds.length<=2)return alert("\u0412 \u0443\u0440\u043e\u0432\u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0432\u0443\u0445 \u0440\u0430\u0443\u043d\u0434\u043e\u0432");var t={id:"none",name:n.state.title||"MyLevel",description:n.state.description,rounds:n.state.rounds};n.props.addLevel(t)},n.state={title:"",description:"",rounds:[{id:1,text:"",answer:[""]}]},n.titleRef=r.a.createRef(),n.descriptionRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"create-window"},r.a.createElement("button",{onClick:this.props.levelCreaterToggle,className:"level-creater__exit-btn"},r.a.createElement("i",{className:"far fa-times-circle"})),r.a.createElement("form",{action:"#",className:"create-form"},r.a.createElement("div",{className:"level-create__head"},r.a.createElement("input",{className:"level-creat__title",ref:this.titleRef,type:"text",value:this.state.title,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:this.changeTitle}),r.a.createElement("input",{className:"level-creat__description",ref:this.descriptionRef,type:"text",value:this.state.description,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",onChange:this.changeDescription})),this.state.rounds.map(function(t,n){return r.a.createElement(p,{key:n,roundId:n,question:t.text,answer:t.answer,addAnswer:e.addAnswer,changeQuestion:e.changeQuestion,changeAnswer:e.changeAnswer})}),r.a.createElement("button",{className:"create-round__add-btn create-round__add-round-btn",onClick:this.addRound},r.a.createElement("i",{className:"far fa-plus-square"}))),r.a.createElement("button",{className:"create-window__create-button",onClick:this.create},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))}}]),t}(a.Component),h=(n(21),[{id:1,name:"Colors",description:"\u0414\u0435\u043c\u043e \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0441 \u0446\u0432\u0435\u0442\u0430\u043c\u0438",rounds:[{id:1,text:"black",answer:["\u0447\u0435\u0440\u043d\u044b\u0439","\u0447\u0451\u0440\u043d\u044b\u0439"]},{id:2,text:"white",answer:["\u0431\u0435\u043b\u044b\u0439"]},{id:3,text:"green",answer:["\u0437\u0435\u043b\u0435\u043d\u044b\u0439"]},{id:4,text:"pink",answer:["\u0440\u043e\u0437\u043e\u0432\u044b\u0439"]},{id:5,text:"yellow",answer:["\u0436\u0435\u043b\u0442\u044b\u0439"]},{id:6,text:"brown",answer:["\u043a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u044b\u0439"]}]},{id:2,name:"Animals",description:"\u0414\u0435\u043c\u043e \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0441 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u043c\u0438",rounds:[{id:1,text:"Cat",answer:["\u043a\u043e\u0442","\u043a\u043e\u0448\u043a\u0430"]},{id:2,text:"chicken",answer:["\u043a\u0443\u0440\u0438\u0446\u0430"]},{id:3,text:"crab",answer:["\u043a\u0440\u0430\u0431"]}]}]),v=(n(22),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"header-main"},r.a.createElement("img",{className:"eni_logo",src:n(9),alt:""}),r.a.createElement("h1",{className:"logoMain"},r.a.createElement("span",null,"local"),"EnLearning"))}}]),t}(a.Component));n(23),n(24);function g(e){var t=function(){e.deleteCard(e.id)};return r.a.createElement("li",{className:"LevelCard",onClick:function(n){if("fas fa-trash-alt delete-icon"===n.target.className)return t();e.startLevel({name:e.name,rounds:e.rounds})}},r.a.createElement("div",{className:"LevelCard__play"},r.a.createElement("i",{className:"fas fa-play"})),r.a.createElement("h2",{className:"LevelCard__name"},e.name),r.a.createElement("p",{className:"LevelCard__description"},e.description),r.a.createElement("i",{className:"fas fa-trash-alt delete-icon",onClick:t}))}function w(e){return r.a.createElement("ul",{className:"LevelsList"},e.levels.map(function(t){return r.a.createElement(g,{key:t.id,id:t.id,name:t.name,description:t.description,rounds:t.rounds,startLevel:e.startLevel,deleteCard:e.deleteCard})}))}n(25);function E(e,t){var n=e-.5+Math.random()*(t-e+1);return n=Math.round(n)}function b(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function N(e,t){var n=new Date;n.setDate(n.getDate()+365),n=n.toUTCString(),document.cookie="".concat(e,"=").concat(t,";path=/;expires=").concat(n)}function _(e){var t;return b("lastStatistic")&&(t=JSON.parse(b("lastStatistic"))),r.a.createElement("article",{className:"right-bar"},r.a.createElement("h2",null,"Statistic last test"),t?r.a.createElement("div",{className:"right-bar__statistic"},r.a.createElement("p",{className:"statistic__level-name"},t.levelName),r.a.createElement("p",null,"Error: ".concat(t.error)),r.a.createElement("p",null,"Right: ".concat(t.right)),r.a.createElement("p",null,"Speed: ".concat(t.speed," s")),r.a.createElement("span",null,"Completed: ".concat(t.completed))):r.a.createElement("div",{className:"right-bar__empty"},r.a.createElement("img",{className:"right-bar__img",src:n(9),alt:"Eni"}),r.a.createElement("p",{className:"right-bar__empty-text"},"Empty now")))}function C(e){b("levels")||(console.log("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u043d\u0435\u0442. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),N("levels",JSON.stringify(h)));var t=Object(a.useState)(JSON.parse(b("levels"))),n=Object(m.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(m.a)(o,2),l=i[0],u=i[1],d=function(){u(!l)};return r.a.createElement("div",{className:"PageMain"},r.a.createElement(v,null),r.a.createElement("div",{className:"PageMain__content"},r.a.createElement("main",null,r.a.createElement(w,{levels:c,startLevel:e.startLevel,deleteCard:function(e){var t=c.filter(function(t){return t.id!==e});N("levels",JSON.stringify(t)),s(t)}}),r.a.createElement("button",{className:"levels-list__add-btn hint--right","aria-label":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0441\u0442",onClick:d},r.a.createElement("i",{className:"far fa-plus-square"}))),r.a.createElement(_,null)),l?r.a.createElement(f,{levelCreaterToggle:d,addLevel:function(e){e.id=c.length+1;var t=c.slice();t.push(e),N("levels",JSON.stringify(t)),s(t),u(!1)}}):"")}n(26),n(27);var S=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={exp:0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.score;return r.a.createElement("header",{className:"header-level"},r.a.createElement("h1",null,this.props.levelName),r.a.createElement("h1",{className:"header__score"},"Score: ".concat(e)),r.a.createElement("div",{className:"score-bar"},r.a.createElement("div",{className:"score-bar__fill",style:{width:"".concat(10*e,"%")}})))}}]),t}(a.Component),x=(n(28),n(35)),O=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).roundClear=function(){n.setState({buttonActive:!1}),document.getElementsByClassName("RoundWindow__input")[0].value=""},n.checkAnswer=function(e){e.preventDefault();var t=n.getAnswer().value.replace(/\s{2,}/g," ").trim().toLowerCase();n.props.answer.find(function(e){return e===t})?(n.props.changeScore(1),n.setState({exitMode:"right-answer",show:!1})):(n.props.changeScore(-1),n.setState({exitMode:"fail-answer",show:!1})),n.setState({show:!1})},n.getAnswer=function(){return document.getElementsByClassName("RoundWindow__input")[0]},n.buttonActive=function(){n.getAnswer().value?n.setState({buttonActive:!0}):n.setState({buttonActive:!1})},n.state={result:"await",buttonActive:!1,exitMode:"RoundWindow",show:!0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this;console.log(this.props.answer);var t=this.props.text,n=this.state.buttonActive?"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c":"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",a=this.state.buttonActive?"RoundWindow__button RoundWindow__button_action":"RoundWindow__button";return r.a.createElement(x.a,{in:this.state.show,timeout:0,onExited:function(){e.roundClear(),setTimeout(function(){e.setState({exitMode:"RoundWindow",show:!0}),e.props.goNextRound(e.props.roundId)},500)}},function(c){var s="".concat(e.state.exitMode,"-").concat(c);return r.a.createElement("div",{className:"RoundWindow ".concat(s)},r.a.createElement("p",{className:"RoundWindow__text"},t),r.a.createElement("form",{action:"#",onSubmit:e.checkAnswer},r.a.createElement("input",{type:"text",className:"RoundWindow__input",onChange:e.buttonActive}),r.a.createElement("input",{type:"submit",value:n,className:a})))})}}]),t}(a.Component),j=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).goNextRound=function(e){n.state.roundsCompleted.length===n.props.rounds.length-2&&n.setState({roundsCompleted:[]});for(var t=E(1,n.props.rounds.length);-1!==n.state.roundsCompleted.indexOf(t)||t===e;)t=E(1,n.props.rounds.length);n.setState(function(n){return{roundSelected:t,roundsCompleted:n.roundsCompleted.concat(e)}}),console.log(n.state.roundsCompleted)},n.changeScore=function(e){if(e<0){if(0===n.state.score)return}else n.state.score>=9&&setTimeout(n.exitLevel,1e3);e>0?n.setState(function(e){return{right:e.right+1}}):n.setState(function(e){return{err:e.err+1}}),n.setState(function(t){return{score:t.score+e}})},n.exitLevel=function(){var e=new Date;N("lastStatistic",JSON.stringify({levelName:n.props.name,error:n.state.err,right:n.state.right,speed:(e-n.state.startTime)/1e3,completed:"".concat(e.getMonth()+1,".").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes())})),n.props.endLevel()},n.state={roundSelected:1,roundsCompleted:[],score:0,err:0,right:0,startTime:new Date},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.score,n=this.props.rounds.find(function(t){return t.id===e.state.roundSelected}),a=n.text,c=n.answer,s=n.id;return r.a.createElement("div",{className:"PageLevel"},r.a.createElement(S,{levelName:this.props.name,score:t}),r.a.createElement(O,{text:a,answer:c,roundId:s,goNextRound:this.goNextRound,changeScore:this.changeScore}))}}]),t}(a.Component),y=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).endLevel=function(){n.goPage(n.pageMain)},n.startLevel=function(e){var t=r.a.createElement(j,{name:e.name,rounds:e.rounds,goPage:n.goPage,endLevel:n.endLevel});n.goPage(t)},n.goPage=function(e){n.setState({selectedPage:e})},n.state={selectedPage:r.a.createElement(C,{startLevel:n.startLevel})},n.pageMain=r.a.createElement(C,{startLevel:n.startLevel}),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.selectedPage}}]),t}(a.Component);s.a.render(r.a.createElement(y,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.52fa5f15.chunk.js.map