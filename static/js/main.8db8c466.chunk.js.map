{"version":3,"sources":["Components/Header/index.jsx","API.js","Model/Movie.js","Components/MovieCard/index.jsx","Components/MovieList/index.jsx","Components/App/index.jsx","index.js"],"names":["Header","react_default","a","createElement","className","Component","mainRequest","url","_this","this","fetch","then","result","json","res","setState","isLoaded","movies","state","concat","loadedPages","hasMore","error","err","Movie","movie","Object","classCallCheck","title","rating","imdbRating","year","posterurl","description","storyline","MovieCard","backgroundImage","props","_this$props$movie","style","MovieList","possibleConstructorReturn","getPrototypeOf","call","loadPage","request","_this$state","lib_default","dataLength","length","next","loader","map","key","id","MovieCard_MovieCard","App","Header_Header","MovieList_MovieList","render","App_App","document","getElementById"],"mappings":"4SAIqBA,gMAEjB,OACEC,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAd,gBAJ4BC,oCCJrB,SAASC,EAAYC,GAAK,IAAAC,EAAAC,KACvCC,MAAMH,GACHI,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KACC,SAAAG,GACEN,EAAKO,SAAS,CACZC,UAAU,EACVC,OAAQT,EAAKU,MAAMD,OAAOE,OAAOL,EAAIG,QACrCG,YAAaZ,EAAKU,MAAME,YAAc,EACtCC,SAAS,KAGb,SAAAC,GACEd,EAAKO,SAAS,CACZQ,IAAKD,EACLN,UAAU,EACVK,SAAS,UChBEG,EACnB,SAAAA,EAAYC,GAAQC,OAAAC,EAAA,EAAAD,CAAAjB,KAAAe,GAClBf,KAAKmB,MAAQH,EAAMG,MACnBnB,KAAKoB,OAASJ,EAAMK,WACpBrB,KAAKsB,KAAON,EAAMM,KAClBtB,KAAKuB,UAAYP,EAAMO,UACvBvB,KAAKwB,YAAcR,EAAMS,WCFRC,0LAEjB,IAAMC,EAAkB3B,KAAK4B,MAAMZ,MAAMO,UADlCM,EAEsC7B,KAAK4B,MAAMZ,MAAhDG,EAFDU,EAECV,MAAOC,EAFRS,EAEQT,OAAQE,EAFhBO,EAEgBP,KAAME,EAFtBK,EAEsBL,YAE7B,OACEhC,EAAAC,EAAAC,cAAA,OACEC,UAAU,YACVmC,MAAO,CAAEH,gBAAe,OAAAjB,OAASiB,EAAT,OAExBnC,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAeyB,GAC/B5B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAcwB,GAC9B3B,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAa2B,GAC7B9B,EAAAC,EAAAC,cAAA,KAAGC,UAAU,oBAAoB6B,YAdJ5B,cCKlBmC,cACnB,SAAAA,EAAYH,GAAO,IAAA7B,EAAA,OAAAkB,OAAAC,EAAA,EAAAD,CAAAjB,KAAA+B,IACjBhC,EAAAkB,OAAAe,EAAA,EAAAf,CAAAjB,KAAAiB,OAAAgB,EAAA,EAAAhB,CAAAc,GAAAG,KAAAlC,KAAM4B,KAeRO,SAAW,WACTpC,EAAKqC,QAAL,+CAAA1B,OAEI,GAD6CX,EAAKU,MAAME,eAlB3CZ,EAuBnBqC,QAAUvC,EApBRE,EAAKU,MAAQ,CACXK,IAAK,KACLP,UAAU,EACVC,OAAQ,GACRG,YAAa,EACbC,SAAS,GARMb,mFAajBC,KAAKoC,QAAQ,0EAYN,IAAAC,EACmBrC,KAAKS,MAAvBF,EADD8B,EACC9B,SACJJ,EAAS,KASb,OAPEA,EAJKkC,EACWvB,IAGPtB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,yFACAY,EACAf,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAd,8GAEA,GAITH,EAAAC,EAAAC,cAAC4C,EAAA7C,EAAD,CACE8C,WAAYvC,KAAKS,MAAMD,OAAOgC,OAC9BC,KAAMzC,KAAKmC,SACXvB,QAASZ,KAAKS,MAAMG,QACpB8B,OAAQlD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YAAd,eAEPK,KAAKS,MAAMD,OAAOmC,IAAI,SAAA3B,GACrB,OACExB,EAAAC,EAAAC,cAAA,MAAIkD,IAAK5B,EAAM6B,IACbrD,EAAAC,EAAAC,cAACoD,EAAD,CAAW9B,MAAO,IAAID,EAAMC,QAIjCb,UAnD8BP,aCFlBmD,mLAEjB,OACEvD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACsD,EAAD,MACAxD,EAAAC,EAAAC,cAACuD,EAAD,cALyBrD,aCAjCsD,iBAAO1D,EAAAC,EAAAC,cAACyD,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.8db8c466.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport \"./style.css\";\n\nexport default class Header extends Component {\n  render() {\n    return (\n      <header>\n        <h1 className=\"logo\">IMDb</h1>\n      </header>\n    );\n  }\n}\n","export default function mainRequest(url) {\n  fetch(url)\n    .then(result => result.json()) // Dont understand why\n    .then(\n      res => {\n        this.setState({\n          isLoaded: false,\n          movies: this.state.movies.concat(res.movies),\n          loadedPages: this.state.loadedPages + 1,\n          hasMore: true\n        });\n      },\n      error => {\n        this.setState({\n          err: error,\n          isLoaded: true,\n          hasMore: false\n        });\n      }\n    );\n}\n","export default class Movie {\n  constructor(movie) {\n    this.title = movie.title;\n    this.rating = movie.imdbRating;\n    this.year = movie.year;\n    this.posterurl = movie.posterurl;\n    this.description = movie.storyline;\n  }\n}\n","import React, { Component } from \"react\";\n\nimport \"./style.css\";\n\nexport default class MovieCard extends Component {\n  render() {\n    const backgroundImage = this.props.movie.posterurl;\n    const { title, rating, year, description } = this.props.movie;\n\n    return (\n      <div\n        className=\"MovieCard\"\n        style={{ backgroundImage: `url(${backgroundImage})` }}\n      >\n        <span className=\"movieRating\">{rating}</span>\n        <div className=\"cardFooter\">\n          <span className=\"movieTitle\">{title}</span>\n          <span className=\"movieYear\">{year}</span>\n          <p className=\"movieDescription\">{description}</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport \"./style.css\";\n\nimport mainRequest from \"../../API\";\nimport Movie from \"../../Model/Movie\";\n\nimport MovieCard from \"../MovieCard\";\n\nexport default class MovieList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      err: null,\n      isLoaded: true,\n      movies: [],\n      loadedPages: 0,\n      hasMore: false\n    };\n  }\n\n  componentDidMount() {\n    this.request(\"http://dev.bittenred.com:61537/movies\");\n  }\n\n  loadPage = () => {\n    this.request(\n      `http://dev.bittenred.com:61537/movies?start=${this.state.loadedPages *\n        30}`\n    );\n  };\n\n  request = mainRequest;\n\n  render() {\n    const { isLoaded, err } = this.state;\n    let result = null;\n    if (err) {\n      result = <h1 className=\"error\">Ошибка загрузки</h1>;\n    } else if (isLoaded) {\n      result = <h1 className=\"info\">Данные загружаются...</h1>;\n    } else {\n      result = \"\";\n    }\n\n    return (\n      <InfiniteScroll\n        dataLength={this.state.movies.length}\n        next={this.loadPage}\n        hasMore={this.state.hasMore}\n        loader={<h1 className=\"loadInfo\">Loading...</h1>}\n      >\n        {this.state.movies.map(movie => {\n          return (\n            <li key={movie.id}>\n              <MovieCard movie={new Movie(movie)} />\n            </li>\n          );\n        })}\n        {result}\n      </InfiniteScroll>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport \"./style.css\";\n\nimport Header from \"../Header\";\nimport MovieList from \"../MovieList\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <div>\n        <Header />\n        <MovieList />\n      </div>\n    );\n  }\n}\n","import React from 'react';\r\nimport {render} from 'react-dom';\r\n\r\nimport './index.css';\r\n\r\nimport App from './Components/App';\r\n\r\nrender(<App />, document.getElementById('root'));"],"sourceRoot":""}